[package]
name = "policy-guard"
version = "0.1.0"
description = "Constitutional enforcement program for $GRID treasury"
edition = "2021"

[lib]
crate-type = ["cdylib", "lib"]
name = "policy_guard"

[features]
default = []
no-entrypoint = []
no-idl = []
no-log-ix-name = []
cpi = ["no-entrypoint"]

[dependencies]
anchor-lang = { version = "0.30.1", features = ["init-if-needed"] }
solana-program = "1.18.11"

# THE NUCLEAR OPTION: Force Safe Versions via Direct Dependency
# This forces the resolver to unify to these versions if possible.

# Vector 1: wit-bindgen chain block (via getrandom 0.2)
tempfile = "=3.10.1"
jobserver = "=0.1.31"
getrandom = "=0.2.17"

# Vector 2: constant_time_eq 0.4 block
blake3 = "=1.5.0"

# Vector 3: async-trait 0.1.89 block
async-trait = "=0.1.80"

# Vector 4: Identity Workspace Fixes
base64ct = "=1.6.0"
winnow = "=0.5.40"
zerocopy = "=0.7.34"

# Vector 5: The NEXUS (ahash 0.8.12 -> getrandom 0.3)
ahash = "=0.8.7"
hashbrown = "=0.14.3"

# SCALPEL: Removed dev-dependencies
# [dev-dependencies]
